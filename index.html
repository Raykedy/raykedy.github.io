<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Купить книгу 2051: Алгоритм Пробуждение — Рэй Кеди</title>
<meta name="description" content="Официальная страница книги Рэй Кеди «2051: Алгоритм Пробуждение».">
<meta property="og:title" content="Купить книгу 2051: Алгоритм Пробуждение — Рэй Кеди">
<meta property="og:description" content="Официальный хаб. Читать, подписаться, соцсети, покупка.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://raykedy.com/">

<style>
  /* БАЗА */
  html, body { height:100%; margin:0; background:#000; overflow:hidden; font-family: Arial, sans-serif; }
  #bgVideo { position:fixed; inset:0; width:100%; height:100%; object-fit:cover; z-index:0; pointer-events:none; background:#000; }
  .content { position:relative; z-index:1; color:#fff; text-align:center; top:32%; padding:0 16px; }
  h1 { margin:0 0 12px; font-size:3rem; }
  p  { margin:0 auto; max-width:680px; font-size:1.2rem; opacity:.9; }

  /* ВЕРХНИЙ БАННЕР */
  .fixed-line-top{
    position:fixed; top:calc(8px + env(safe-area-inset-top)); left:50%; transform:translateX(-50%);
    z-index:3; color:#ffcc66; background:rgba(0,0,0,.45); padding:8px 16px; border-radius:8px;
    text-align:center; max-width:calc(100% - 24px); font-size:1.05rem; line-height:1.3;
    box-shadow:0 2px 10px rgba(0,0,0,.35); transition: box-shadow .25s ease, transform .15s ease, opacity .25s ease;
  }
  .fixed-line-top div { white-space:normal; }
  .clickable { cursor:pointer; box-shadow:0 0 0 0 rgba(255,102,0,.75); animation:pulse 1.4s ease-in-out infinite; }
  .clickable:active { transform:translateX(-50%) scale(.98); }
  @keyframes pulse { 0%{box-shadow:0 0 0 0 rgba(255,102,0,.65);}70%{box-shadow:0 0 0 14px rgba(255,102,0,0);}100%{box-shadow:0 0 0 0 rgba(255,102,0,0);} }

  /* ПОДСКАЗКА */
  .hint{
    position:fixed; left:50%; bottom:calc(60px + env(safe-area-inset-bottom)); transform:translateX(-50%);
    color:#bbb; font-size:.95rem; text-align:center; z-index:3;
    padding:8px 14px; background:rgba(0,0,0,.4); border-radius:8px;
    pointer-events:none; opacity:0; transition:opacity .35s ease;
  }
  .hint.show{ opacity:1; }

  /* НИЖНИЕ КНОПКИ — ОБЩИЙ КОНТЕЙНЕР */
  .cta-wrap{
    position:fixed; left:50%; bottom:calc(18px + env(safe-area-inset-bottom)); transform:translateX(-50%);
    z-index:9999; width:min(980px, calc(100% - 24px));
  }
  .hub-block{
    position:relative; z-index:10000;
    backdrop-filter: blur(6px); background: rgba(0,0,0,.35);
    border: 1px solid rgba(255,255,255,.12); border-radius: 16px;
    padding: 12px; margin-bottom: 12px;
  }
  .hub-block h2{ margin:0 0 .8rem; font-size:1.1rem; color:#e7ffe7; }

  .btn-grid{ display:grid; grid-template-columns:repeat(3,1fr); gap:10px; }
  @media(max-width:800px){ .btn-grid{ grid-template-columns:repeat(2,1fr); } }
  @media(max-width:500px){ .btn-grid{ grid-template-columns:1fr; } }

  .btn{
    display:flex; align-items:center; justify-content:center;
    min-height:56px; padding:0 16px; border-radius:12px;
    font-weight:700; text-decoration:none; color:#fff;
    border:1px solid rgba(255,255,255,.25);
    background:rgba(255,255,255,.08);
    transition:.2s; pointer-events:auto; user-select:none;
    box-shadow: inset 0 0 12px rgba(120,220,255,.08), 0 6px 18px rgba(0,0,0,.25);
  }
  .btn:hover{ background:rgba(255,255,255,.15); transform:translateY(-1px); }
  .btn:active{ transform:translateY(0); }
  .disabled{ pointer-events:none; opacity:.55; filter:grayscale(.2); }

  /* Акценты */
  .btn-tg{ background:linear-gradient(135deg,rgba(0,255,163,.15),rgba(0,160,255,.12)); }
  .btn-msg{ background:linear-gradient(135deg,rgba(255,140,0,.18),rgba(0,255,163,.12)); }
  .btn-tt{ background:linear-gradient(135deg,rgba(0,255,163,.12),rgba(255,255,255,.08)); }
  .btn-yt{ background:linear-gradient(135deg,rgba(255,80,80,.18),rgba(255,255,255,.08)); }
  .btn-bst{ background:linear-gradient(135deg,rgba(0,255,163,.18),rgba(255,255,255,.08)); }
  .btn-amz{ background:linear-gradient(135deg,rgba(255,140,0,.18),rgba(255,255,255,.08)); }
  .btn-gb{ background:linear-gradient(135deg,rgba(0,160,255,.18),rgba(255,255,255,.08)); }
  .btn-mirror{ background:linear-gradient(135deg,rgba(160,0,255,.18),rgba(255,255,255,.08)); }

  @media (max-width: 820px){ .content{ top:30%; } }
  @media (max-width: 600px){
    h1{font-size:2.2rem;} .content p{font-size:1rem;}
    .fixed-line-top{font-size:.95rem; padding:6px 10px;}
    .content{ top:28%; }
  }
  @media (max-width: 380px){
    h1{font-size:1.9rem;}
    .fixed-line-top{font-size:.9rem; padding:6px 8px;}
    .content{ top:26%; }
  }
</style>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Book",
  "name": "2051: Алгоритм Пробуждение",
  "author": { "@type": "Person", "name": "Рэй Кеди" },
  "inLanguage": "ru",
  "description": "Официальная страница книги «2051: Алгоритм Пробуждение».",
  "genre": ["Научная фантастика", "Киберпанк", "Философский роман"]
}
</script>
</head>
<body>

<!-- Скрытый SEO-блок -->
<div style="display:none;">
Купить книгу «2051: Алгоритм Пробуждение» — автор Рэй Кеди. 2051 Алгоритм Пробуждение — научная фантастика, киберпанк, философия.
</div>

<!-- ФОНОВОЕ ВИДЕО (как прежде) -->
<video id="bgVideo" autoplay muted loop playsinline preload="auto">
  <source src="https://raykedy.github.io/%D1%84%D0%BE%D0%BD%20%D1%81%D0%B0%D0%B9%D1%82%D0%B0.mp4?v=4" type="video/mp4">
</video>

<!-- МУЗЫКА (как прежде) -->
<audio id="bgMusic" preload="auto" loop>
  <source src="https://raw.githubusercontent.com/Raykedy/raykedy.github.io/main/motivational-adventure-cinematic-150072(2).mp3?v=3" type="audio/mpeg">
</audio>

<!-- Верхний баннер (для запуска аудио на мобилках) -->
<div id="topBanner" class="fixed-line-top" aria-live="polite" role="button" tabindex="0">
  <div>Официальный хаб раздачи.</div>
  <div>Скачать книгу можно здесь.</div>
</div>

<!-- Центральный текст -->
<div class="content">
  <h1>2051: Алгоритм Пробуждение</h1>
  <p>Погрузись в мир, где границы между разумом и кодом стираются.</p>
</div>

<!-- НИЖНИЕ БЛОКИ С КНОПКАМИ -->
<div class="cta-wrap" aria-label="Площадки книги">
  <!-- Читать и связь -->
  <div class="hub-block">
    <h2>Читать и связь</h2>
    <div class="btn-grid">
      <a href="https://t.me/raykedy2051" class="btn btn-tg" target="_blank" rel="noopener noreferrer">Telegram — читать</a>
      <a href="https://t.me/Ray_Kedy" class="btn btn-msg" target="_blank" rel="noopener noreferrer">✉️ Сообщение (за звёзды)</a>
    </div>
  </div>

  <!-- Соцсети -->
  <div class="hub-block">
    <h2>Соцсети</h2>
    <div class="btn-grid">
      <a href="https://www.tiktok.com/@raykedy1" class="btn btn-tt" target="_blank" rel="noopener noreferrer">TikTok</a>
      <a href="https://youtube.com/@raykedy?si=zV6cvntxmkS8sNbw" class="btn btn-yt" target="_blank" rel="noopener noreferrer">YouTube</a>
      <a href="https://bastyon.com/raykedy" class="btn btn-bst" target="_blank" rel="noopener noreferrer">Bastyon</a>
    </div>
  </div>

  <!-- Купить -->
  <div class="hub-block">
    <h2>Купить</h2>
    <div class="btn-grid">
      <a class="btn btn-amz disabled" aria-disabled="true">Amazon — скоро</a>
      <a class="btn btn-gb disabled" aria-disabled="true">Google Books — скоро</a>
    </div>
  </div>

  <!-- Web3 -->
  <div class="hub-block">
    <h2>Web3</h2>
    <div class="btn-grid">
      <a class="btn btn-mirror disabled" aria-disabled="true">Mirror — скоро</a>
    </div>
  </div>
</div>

<div id="hint" class="hint"></div>

<script>
(async function () {
  const video   = document.getElementById('bgVideo');
  const audio   = document.getElementById('bgMusic');
  const banner  = document.getElementById('topBanner');
  const hint    = document.getElementById('hint');

  const ua = navigator.userAgent;
  const isFirefox = /firefox/i.test(ua);
  const isAndroidChrome = /Android/i.test(ua) && /Chrome/i.test(ua);

  audio.volume = 0;

  const showHint = (msg) => {
    hint.textContent = msg;
    hint.classList.add('show');
    clearTimeout(showHint._t);
    showHint._t = setTimeout(() => hint.classList.remove('show'), 3500);
  };

  const fadeInAudio = (target=1, step=0.02, ms=100) => {
    let v = audio.volume;
    const id = setInterval(() => {
      v = Math.min(target, v + step);
      audio.volume = v;
      if (v >= target) clearInterval(id);
    }, ms);
  };

  async function startFromBanner() {
    banner.classList.remove('clickable');
    try { video.muted = true; await video.play(); } catch(e) {}
    try { await audio.play(); fadeInAudio(1,0.02,100); }
    catch (e) { showHint('Разреши звук в браузере и нажми ещё раз'); banner.classList.add('clickable'); }
  }

  if (!isFirefox) {
    try {
      await video.play();
      try { await audio.play(); fadeInAudio(1,0.02,100); }
      catch (e) {
        showHint('Нажми баннер, чтобы включить звук');
        banner.classList.add('clickable');
        banner.addEventListener('click', startFromBanner);
        banner.addEventListener('keydown', (e)=>{ if(e.key==='Enter'||e.key===' '){ e.preventDefault(); startFromBanner(); }});
      }
    } catch (e) {
      banner.classList.add('clickable');
      banner.addEventListener('click', startFromBanner);
      banner.addEventListener('keydown', (e)=>{ if(e.key==='Enter'||e.key===' '){ e.preventDefault(); startFromBanner(); }});
    }

    setTimeout(() => {
      const audioStuck = audio.paused || audio.currentTime === 0 || audio.volume < 0.01;
      if (isAndroidChrome && audioStuck) {
        banner.classList.add('clickable');
        showHint('Тапни по баннеру, чтобы включить звук');
        banner.addEventListener('click', startFromBanner, { once:true });
        banner.addEventListener('keydown', (e)=>{ if(e.key==='Enter'||e.key===' '){ e.preventDefault(); startFromBanner(); }}, { once:true });
      }
    }, 1200);

  } else {
    banner.classList.add('clickable');
    banner.addEventListener('click', startFromBanner);
    banner.addEventListener('keydown', (e)=>{ if(e.key==='Enter'||e.key===' '){ e.preventDefault(); startFromBanner(); }});
  }

  video.addEventListener('error', () => showHint('Ошибка видео: проверь ссылку или имя файла'));
  audio.addEventListener('error', () => showHint('Ошибка аудио: проверь ссылку на mp3'));
})();
</script>
</body>
</html>
